{
  "startedAt": "2026-02-22T12:12:08.610Z",
  "xtdbBaseUrl": "http://172.17.0.1:3000",
  "workspaceRoot": "/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z",
  "sessionId": "five-live-drives-1771762328610",
  "scenarios": {
    "scenario1": {
      "timeline": [
        {
          "at": "2026-02-22T12:12:12.361Z",
          "event": "discovered via wrappedLs",
          "count": 6
        },
        {
          "at": "2026-02-22T12:12:12.362Z",
          "event": "discovered via wrappedFind"
        },
        {
          "at": "2026-02-22T12:12:12.365Z",
          "event": "discovered via wrappedGrep"
        },
        {
          "at": "2026-02-22T12:12:13.176Z",
          "event": "read selected files",
          "ids": [
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/a/alpha.md",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts"
          ]
        },
        {
          "at": "2026-02-22T12:12:13.176Z",
          "event": "deactivated one file",
          "result": {
            "ok": true,
            "message": "deactivated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/a/alpha.md"
          }
        }
      ],
      "counts": [
        {
          "at": "2026-02-22T12:12:12.361Z",
          "label": "after wrappedLs",
          "metadataCount": 6,
          "activeCount": 1,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:12:13.176Z",
          "label": "after selective reads/activation",
          "metadataCount": 6,
          "activeCount": 3,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/a/alpha.md",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:12:13.176Z",
          "label": "after deactivation of alpha.md",
          "metadataCount": 6,
          "activeCount": 2,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts"
          ],
          "pinnedIds": []
        }
      ],
      "ids": {
        "readIds": [
          "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/a/alpha.md",
          "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts"
        ],
        "deactivateResult": {
          "ok": true,
          "message": "deactivated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/a/alpha.md"
        }
      },
      "invoked": {
        "wrappedLs": true,
        "wrappedFind": true,
        "wrappedGrep": true,
        "read": true,
        "deactivate": true
      },
      "assessment": {
        "activeShrank": true
      }
    },
    "scenario2": {
      "timeline": [
        {
          "at": "2026-02-22T12:12:13.177Z",
          "event": "added heavy tool results",
          "count": 8
        },
        {
          "at": "2026-02-22T12:12:13.177Z",
          "event": "deactivated first five tool results"
        }
      ],
      "counts": [
        {
          "at": "2026-02-22T12:12:13.177Z",
          "label": "after heavy toolResults (no deactivation)",
          "metadataCount": 14,
          "activeCount": 10,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-0",
            "tc-heavy-1",
            "tc-heavy-2",
            "tc-heavy-3",
            "tc-heavy-4",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:12:13.177Z",
          "label": "after explicit deactivation policy on first 5 toolcalls",
          "metadataCount": 14,
          "activeCount": 5,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        }
      ],
      "ids": {
        "toolCallIds": [
          "tc-heavy-0",
          "tc-heavy-1",
          "tc-heavy-2",
          "tc-heavy-3",
          "tc-heavy-4",
          "tc-heavy-5",
          "tc-heavy-6",
          "tc-heavy-7"
        ]
      },
      "invoked": {
        "transformContext": true,
        "deactivate": true
      },
      "assessment": {
        "activeShrank": true
      }
    },
    "scenario3": {
      "timeline": [
        {
          "at": "2026-02-22T12:12:38.597Z",
          "event": "history sample",
          "i": 5,
          "historyLength": 6
        },
        {
          "at": "2026-02-22T12:12:43.603Z",
          "event": "mid-run deactivation",
          "i": 6,
          "res": {
            "ok": true,
            "message": "deactivated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
          }
        },
        {
          "at": "2026-02-22T12:13:03.618Z",
          "event": "history sample",
          "i": 10,
          "historyLength": 11
        },
        {
          "at": "2026-02-22T12:13:13.622Z",
          "event": "mid-run reactivation",
          "i": 12,
          "res": {
            "ok": true,
            "message": "activated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
          }
        },
        {
          "at": "2026-02-22T12:13:28.633Z",
          "event": "history sample",
          "i": 15,
          "historyLength": 16
        },
        {
          "at": "2026-02-22T12:13:48.654Z",
          "event": "longrun completed",
          "durationSec": 95.065,
          "historyLength": 20
        }
      ],
      "counts": [
        {
          "at": "2026-02-22T12:12:13.583Z",
          "label": "longrun start",
          "metadataCount": 15,
          "activeCount": 5,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:12:38.597Z",
          "label": "sample i=5",
          "metadataCount": 15,
          "activeCount": 5,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:12:43.603Z",
          "label": "after deactivate i=6",
          "metadataCount": 15,
          "activeCount": 5,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:13:03.618Z",
          "label": "sample i=10",
          "metadataCount": 15,
          "activeCount": 5,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:13:13.622Z",
          "label": "after reactivate i=12",
          "metadataCount": 15,
          "activeCount": 6,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:13:28.633Z",
          "label": "sample i=15",
          "metadataCount": 15,
          "activeCount": 6,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:13:48.653Z",
          "label": "longrun end",
          "metadataCount": 15,
          "activeCount": 6,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
          ],
          "pinnedIds": []
        }
      ],
      "ids": {
        "fileId": "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log"
      },
      "invoked": {
        "wrappedWrite": true,
        "deactivate": true,
        "activate": true
      },
      "assessment": {
        "durationSec": 95.065,
        "historyLength": 20,
        "met90s": true
      },
      "historySamples": [
        {
          "at": "2026-02-22T12:12:38.597Z",
          "i": 5,
          "historyLength": 6
        },
        {
          "at": "2026-02-22T12:13:03.618Z",
          "i": 10,
          "historyLength": 11
        },
        {
          "at": "2026-02-22T12:13:28.633Z",
          "i": 15,
          "historyLength": 16
        }
      ]
    },
    "scenario4": {
      "timeline": [
        {
          "at": "2026-02-22T12:13:49.467Z",
          "event": "pin before close",
          "pinRes": {
            "ok": true,
            "message": "pinned file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          }
        },
        {
          "at": "2026-02-22T12:13:50.686Z",
          "event": "closed original extension"
        },
        {
          "at": "2026-02-22T12:13:50.686Z",
          "event": "mutated file while down"
        },
        {
          "at": "2026-02-22T12:13:53.537Z",
          "event": "unpin after reload",
          "unpinRes": {
            "ok": true,
            "message": "unpinned file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          }
        }
      ],
      "counts": [
        {
          "at": "2026-02-22T12:13:49.467Z",
          "label": "before close",
          "metadataCount": 16,
          "activeCount": 7,
          "pinnedCount": 1,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ],
          "pinnedIds": [
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ]
        },
        {
          "at": "2026-02-22T12:13:53.537Z",
          "label": "after reload",
          "metadataCount": 16,
          "activeCount": 7,
          "pinnedCount": 1,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ],
          "pinnedIds": [
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ]
        },
        {
          "at": "2026-02-22T12:13:53.537Z",
          "label": "after unpin",
          "metadataCount": 16,
          "activeCount": 7,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ],
          "pinnedIds": []
        }
      ],
      "ids": {
        "fileId": "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
      },
      "invoked": {
        "pin": true,
        "reload": true,
        "unpin": true
      },
      "assessment": {
        "charCountAfterReload": 17,
        "pinPersistedAcrossReload": true,
        "unpinnedAtEnd": true
      }
    },
    "scenario5": {
      "timeline": [
        {
          "at": "2026-02-22T12:13:55.172Z",
          "event": "captured invalid operation results"
        },
        {
          "at": "2026-02-22T12:13:55.984Z",
          "event": "recovery operations",
          "rr": {
            "ok": true,
            "message": "read ok id=file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt",
            "id": "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          },
          "pinOk": {
            "ok": true,
            "message": "pinned file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          },
          "deactOk": {
            "ok": true,
            "message": "deactivated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          },
          "reactOk": {
            "ok": true,
            "message": "activated file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          },
          "unpinOk": {
            "ok": true,
            "message": "unpinned file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          }
        }
      ],
      "counts": [
        {
          "at": "2026-02-22T12:13:55.171Z",
          "label": "start scenario5",
          "metadataCount": 16,
          "activeCount": 7,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md"
          ],
          "pinnedIds": []
        },
        {
          "at": "2026-02-22T12:13:55.984Z",
          "label": "end scenario5",
          "metadataCount": 17,
          "activeCount": 8,
          "pinnedCount": 0,
          "activeIds": [
            "chat:five-live-drives-1771762328610",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/research/b/gamma.ts",
            "tc-heavy-5",
            "tc-heavy-6",
            "tc-heavy-7",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/longrun/stream.log",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/continuity/state.md",
            "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
          ],
          "pinnedIds": []
        }
      ],
      "ids": {
        "recoveryId": "file:/workspace/self-context-manager/tmp/five-live-drives-2026-02-22T12-12-08-610Z/recover/ok.txt"
      },
      "invoked": {
        "deactivate": true,
        "pin": true,
        "unpin": true,
        "activate": true
      },
      "assessment": {
        "recoveryAllOk": true
      },
      "failures": [
        {
          "op": "deactivate missing",
          "ok": false,
          "message": "Object not found: missing:id"
        },
        {
          "op": "pin missing",
          "ok": false,
          "message": "Object not found: missing:id"
        },
        {
          "op": "unpin missing",
          "ok": false,
          "message": "Object not found: missing:id"
        },
        {
          "op": "activate unread missing file id",
          "ok": false,
          "message": "Object not found: file:/nonexistent/path/ghost.txt"
        }
      ]
    }
  },
  "finishedAt": "2026-02-22T12:13:58.410Z"
}